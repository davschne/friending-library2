<section>
  <section class="nav__template">
    <nav>
      <a href="#/available_books" class="nav__anchors">Available Books</a>
      <a href="#/my_books" class="nav__anchors">My Books</a>
      <a href="#/borrowing_and_lending" class="nav__anchors">
        Borrowing and Lending
      </a>
      <a href="#/" class="nav__anchor__logout" data-ng-click="userLogOut(user.access_token)">Log Out</a>
    </nav>
  </section>

  <h1 class="book__list__header">My Requests</h1>
  <section class="book__list">
    <ul class="list">
      <h2 class="book__list__none" data-ng-if="noSelfRequests">
        No book requests
      </h2>
      <li class="list__item" data-ng-repeat="selfBook in selfRequests">
        <section class="book__list__section">
          <section class="book__list__subsection">
            <img data-ng-src="{{selfBook.imageLinks.smallThumbnail}}">
          </section>
          <section class="book__list__subsection">
            <ul>
              <li><p>Title:</p>{{selfBook.title}}</li>
              <li><p>Author:</p>{{selfBook.authors[0]}}</li>
              <li><p>Genre:</p>{{selfBook.categories[0]}}</li>
              <li><p>Owner:</p>{{selfBook.owner.displayName}}</li>
            </ul>
            <button data-ng-click="cancelRequest(user.access_token, selfBook._id)">Undo</button>
          </section>
        </section>
      </li>
    </ul>
  </section>

  <h1 class="book__list__header">Currently Borrowing</h1>
  <section class="book__list">
    <ul class="list">
      <h2 class="book__list__none" data-ng-if="noneApproved">
        No books borrowed
      </h2>
      <li class="list__item" data-ng-repeat="borrow in selfBorrowing">
        <section class="book__list__section">
          <section class="book__list__subsection">
            <img data-ng-src="{{borrow.imageLinks.smallThumbnail}}">
          </section>
          <section class="book__list__subsection">
            <ul>
              <li><p>Title:</p>{{borrow.title}}</li>
              <li><p>Author:</p>{{borrow.authors[0]}}</li>
              <li><p>Genre:</p>{{borrow.categories[0]}}</li>
              <li><p>Owner:</p>{{borrow.owner.displayName}}</li>
            </ul>
          </section>
        </section>
      </li>
    </ul>
  </section>

  <h1 class="book__list__header">Requests For My Books</h1>
  <ul class="list">
    <h2 class="book__list__none" data-ng-if="noRequests">
      No Books Requested
    </h2>
    <li class="list__item" data-ng-repeat="userBook in bookRequests">
      <section class="book__list__section">
        <section class="book__list__subsection">
          <img data-ng-src="{{userBook.imageLinks.smallThumbnail}}">
        </section>
        <section class="book__list__subsection">
          <ul>
            <li><p>Title:</p>{{userBook.title}}</li>
            <li><p>Author:</p>{{userBook.authors[0]}} </li>
            <li><p>Genre:</p>{{userBook.categories[0]}} </li>
            <li><p>Requester:</p>{{userBook.request.displayName}}</li>
          </ul>
          <button data-ng-click="acceptRequest(user.access_token, {_id : userBook._id})">Approve</button>
          <button data-ng-click="rejectRequest(user.access_token, {_id : userBook._id})">Deny</button>
        </section>
      </section>
    </li>
  </ul>

  <h1 class="book__list__header">Books Lent</h1>
  <ul class="list">
    <h2 class="book__list__none" data-ng-if="noneBorrowed">No Books Lent</h2>
    <li class="list__item" data-ng-repeat="borrow in borrowedBooks">
      <section class="book__list__section">
        <section class="book__list__subsection">
          <img data-ng-src="{{borrow.imageLinks.smallThumbnail}}"/>
        </section>
        <section class="book__list__subsection">
          <ul>
            <li><p>Title:</p>{{borrow.title}}</li>
            <li><p>Author:</p>{{borrow.authors[0]}}</li>
            <li><p>Genre:</p>{{borrow.categories[0]}}</li>
            <li><p>Borrower:</p>{{borrow.borrower.displayName}}</li>
          </ul>
          <button data-ng-click="returnBook(user.access_token, {_id : borrow._id})">Returned</button>
        </section>
      </section>
    </li>
  </ul>
</section>
